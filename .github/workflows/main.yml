name: Dummy CI/CD Pipeline

on:
  push:
    branches:
      - main
  workflow_dispatch:

env:
  SERVICE_NAME: dummy-service

jobs:
  dummy-build:
    runs-on: ubuntu-latest
    name: Dummy Build Stage
    steps:
      - name: Checkout Code
        uses: actions/checkout@v3

      - name: Build (Dummy)
        run: |
          echo "🏗️ Building dummy service..."
          sleep 2

  dummy-analysis:
    needs: dummy-build
    runs-on: ubuntu-latest
    name: Dummy Analysis Stage
    steps:
      - name: Checkout Code
        uses: actions/checkout@v3

      - name: Analyze Code (Dummy)
        run: |
          echo "🔍 Running dummy code analysis..."
          sleep 2

  dummy-predeploy:
    needs: dummy-analysis
    runs-on: ubuntu-latest
    name: Dummy Pre-Deploy Stage
    steps:
      - name: Setup Pre-Deploy Config (Dummy)
        run: |
          echo "⚙️ Setting up dummy configs for deployment..."
          sleep 2

  dummy-deploy:
    needs: dummy-predeploy
    runs-on: ubuntu-latest
    name: Dummy Deploy Stage
    steps:
      - name: Deploy to Environment (Dummy)
        run: |
          echo "🚀 Deploying dummy service to production..."
          sleep 2

      - name: ✅ Deployment Complete
        run: |
          echo "🎉 Dummy deployment completed!"
          echo "Build URL: ${{ github.server_url }}/${{ github.repository }}/actions/runs/${{ github.run_id }}"
